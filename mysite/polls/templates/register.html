<html>
<head>
<title>Welcome to Vorg</title>
<link href="{{STATIC_URL}}polls/style.css" rel="stylesheet" type="text/css">
<link href="{{STATIC_URL}}polls/reset.css" rel="stylesheet" type="text/css" />
<link href="{{STATIC_URL}}polls/screen.css" rel="stylesheet" type="text/css" />
<script src="{{STATIC_URL}}polls/jquery.min.js" type="text/javascript"></script>
<script src="{{STATIC_URL}}polls/html5.js" type="text/javascript"></script>
<script src="{{STATIC_URL}}polls/jquery.bvalidator.js" type="text/javascript"></script>
<link href="{{STATIC_URL}}polls/bvalidator.css" rel="stylesheet" type="text/css" />
<link href="{{STATIC_URL}}polls/responsive-layout.css" rel="stylesheet" type="text/css" />
<style type="text/css">
body {display:table;}
</style>
<script type="text/javascript"> 
	 var options6 = {
        offset: {x:5, y:-2},
        position: {x:'right', y:'center'},
        template: '<div class="{errMsgClass}">{message}</div>',
        showCloseIcon: true,
        classNamePrefix: 'ex6_',
        validateOn: 'blur'
    };
    $(document).ready(function () {
        $('#cpform').bValidator(options6);
    });
	function csrfSafeMethod(method) {
    // these HTTP methods do not require CSRF protection
    return (/^(GET|HEAD|OPTIONS|TRACE|POST)$/.test(method));
}
	function chkuser()
	{
		var username
		username = $("#username").val();
		$.ajax({
			url:"/register/chk_user/",
			type: "POST",
			data: {username: username,csrfmiddlewaretoken: '{{ csrf_token }}'},
			success:function(response){
				if(response == "no")
					return true;
				else
					$('#error').html('Username Already Exist!');
					$('#username').focus();
					$('#error').delay(3200).fadeOut(300);
					return false;
			},
			complete:function(){},
			error:function (xhr, textStatus, thrownError){
			
			}
		});
	}
	function chkcompany(){
		var comp_name
		comp_name = $("#company_name").val();
		$.ajax({
			url:"/register/chk_comp/",
			type: "POST",
			data: {comp_name: comp_name,csrfmiddlewaretoken: '{{ csrf_token }}'},
			success:function(response){
				if(response == "no")
					return true;
				else
					$('#error').html('Username Already Exist!');
					$('#company_name').focus();
					$('#error').delay(3200).fadeOut(300);
					return false;
			},
			complete:function(){},
			error:function (xhr, textStatus, thrownError){
			
			}
		});
	}
		
</script>
</head>

<body>

<div class="adminloginwrapp">
	
    <!--admin login panel div start here-->
    <section class="adminloginpanel">
    	<h2><img src="{{STATIC_URL}}polls/admin-logo.png" alt=""/></h2>
        <div class="containerpaneldiv">
		<form action="/register/signup/" method="post" accept-charset="utf-8" name="cpform" id="cpform">
		{% csrf_token %}
			
            	<label style="color:#FF0000">{{msg}}</label>
            <span style="color:red" id="error"></span>
			<div class="loginhgtdiv">
            	<label for="company_name">Company Name</label>
                <input type="text"  name="Company_name" id="company_name" data-bvalidator="required" onblur="return chkcompany()"/>
            </div>
			<div class="loginhgtdiv">
            	<label for="first_name">First Name</label>
                <input type="text"  name="First_name" id="first_name" data-bvalidator="alpha,required"/>
            </div>
			<div class="loginhgtdiv">
            	<label for="last_name">Last Name</label>
                <input type="text"  name="Last_name" id="last_name" data-bvalidator="alpha,required"/>
            </div>
			<div class="loginhgtdiv">
            	<label for="username">Username</label>
                <input type="text"  name="Username" id="username" data-bvalidator="alpha,minlength[6],required" onblur="return chkuser()"/>
            </div>
			<div class="loginhgtdiv">
            	<label for="email">Email</label>
                <input type="text"  name="Email" id="email" data-bvalidator="email,required" value="{{id}}" readonly/>
            </div>
			<div class="loginhgtdiv">
            	<label for="password">Password</label>
                <input type="password"  name="Password" id="password" data-bvalidator="required"/>
            </div>
			<div class="loginhgtdiv">
            	<label for="email">Confirm Password</label>
                <input type="password"  name="Password1" id="password1" data-bvalidator="equalto[password],required"//>
            </div>
			
            <div class="loginhgtdiv">
			<div class="rembmebrrpanl">
					Already Member?<a href="/login/" class='custl'>Login</a>
				</div>
            	<input type="submit" value="SUBMIT" name="submit" />
                <div class="clear"></div>
            </div>
			
		</form>
        </div>
        
    </section>
    <!--admin login panel div end here-->

</div>

</body>
</html>
 